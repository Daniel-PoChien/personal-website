document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(e){e.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})});window.addEventListener("load",function(){const e=document.getElementById("skillChart").getContext("2d");new Chart(e,{type:"bar",data:{labels:["HTML/CSS","JavaScript","React","Node.js","Python","C語言"],datasets:[{label:"技能水平 (%)",data:[90,85,80,75,70,65],backgroundColor:["rgba(255, 99, 132, 0.7)","rgba(54, 162, 235, 0.7)","rgba(255, 206, 86, 0.7)","rgba(75, 192, 192, 0.7)","rgba(153, 102, 255, 0.7)","rgba(255, 159, 64, 0.7)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,max:100}},plugins:{legend:{display:!1}}}})});const zhButton=document.getElementById("lang-zh"),enButton=document.getElementById("lang-en");"zh-TW"===document.documentElement.lang?enButton.addEventListener("click",function(){window.location.href="index_en.html"}):zhButton.addEventListener("click",function(){window.location.href="index.html"});document.getElementById("contactForm").addEventListener("submit",function(e){e.preventDefault();const t=new FormData(this),n=document.getElementById("form-message"),a=this.querySelector('button[type="submit"]');a.disabled=!0,a.innerHTML="zh-TW"===document.documentElement.lang?"發送中...":"Sending...",fetch("contact.php",{method:"POST",body:t}).then(e=>e.json()).then(e=>{if(n.classList.remove("hidden"),e.success)n.className="mt-4 text-center text-green-600 bg-green-100 p-3 rounded",n.textContent=e.message,document.getElementById("contactForm").reset();else{n.className="mt-4 text-center text-red-600 bg-red-100 p-3 rounded",n.textContent=e.errors.join(", ")}a.disabled=!1,a.innerHTML="zh-TW"===document.documentElement.lang?"發送消息":"Send Message"}).catch(e=>{n.classList.remove("hidden"),n.className="mt-4 text-center text-red-600 bg-red-100 p-3 rounded",n.textContent="zh-TW"===document.documentElement.lang?"發送請求時出錯，請稍後再試。":"An error occurred while sending your message. Please try again later.",a.disabled=!1,a.innerHTML="zh-TW"===document.documentElement.lang?"發送消息":"Send Message"})});